<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Physics for Games Assesment 1: FAQ</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Physics for Games Assesment 1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_dependencies_stb_tests_caveview__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">FAQ </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md383"></a>
How to run it?</h2>
<p>There's no GUI. Find a directory with Minecraft Anvil files (.mca). Copy a Minecraft "terrain.png" into that directory (do a google image search). Run from that directory.</p>
<h2><a class="anchor" id="autotoc_md384"></a>
How accurate is this as a Minecraft viewer?</h2>
<p>Not very. Many Minecraft blocks are not handled correctly:</p>
<ul>
<li>No redstone, rails, or other "flat" blocks</li>
<li>No signs, doors, fences, carpets, or other complicated geometry</li>
<li>Stairs are turned into ramps</li>
<li>Upper slabs turn into lower slabs</li>
<li>Wood types only for blocks, not stairs, slabs, etc</li>
<li>Colored glass becomes regular glass</li>
<li>Glass panes become glass blocks</li>
<li>Water is opaque</li>
<li>Water level is incorrect</li>
<li>No biome coloration</li>
<li>Cactus is not shrunk, shows holes</li>
<li>Chests are not shrunk</li>
<li>Double-chests draw as two chests</li>
<li>Pumpkins etc. are not rotated properly</li>
<li>Torches are drawn hackily, do not attach to walls</li>
<li>Incorrect textures for blocks that postdate terrain.png</li>
<li>Transparent textures have black fringes due to non-premultiplied-alpha</li>
<li>Skylight and block light are combined in a single value</li>
<li>Only blocks at y=1..255 are shown (not y=0)</li>
<li>If a 32x32x256 "quad-chunk" needs more than 800K quads, isn't handled (very unlikely)</li>
</ul>
<p>Some of these are due to engine limitations, and some of these are because I didn't make the effort since my goal was to make a demo for stb_voxel_render.h, not to make a proper Minecraft viewer.</p>
<h2><a class="anchor" id="autotoc_md385"></a>
Could this be turned into a proper Minecraft viewer?</h2>
<p>Yes and no. Yes, you could do it, but no, it wouldn't really resemble this code that much anymore.</p>
<p>You could certainly use this engine to render the parts of Minecraft it works for, but many of the things it doesn't handle it can't handle at all (stairs, water, fences, carpets, etc) because it uses low-precision coordinates to store voxel data.</p>
<p>You would have to render all of the stuff it doesn't handle through another rendering path. In a game (not a viewer) you would need such a path for movable entities like doors and carts anyway, so possibly handling other things that way wouldn't be so bad.</p>
<p>Rails, ladders, and redstone lines could be implemented by using tex2 to overlay those effects, but you can't rotate tex1 and tex2 independently, so there may be cases where the underlying texture needs a different rotation from the overlaid texture, which would require separate rendering. Handling redstone's brightness being different from underlying block's brightness would require separate rendering.</p>
<p>You can use the face-color effect to do biome coloration, but the change won't be smooth the way it is in Minecraft.</p>
<h2><a class="anchor" id="autotoc_md386"></a>
Why isn't building the mesh data faster?</h2>
<p>Partly because converting from minecraft data is expensive.</p>
<p>Here is the approximate breakdown of an older version of this executable and lib that did the building single-threaded.</p>
<ul>
<li>25% loading &amp; parsing minecraft files (4/5ths of this is my crappy zlib)</li>
<li>18% converting from minecraft blockids &amp; lighting to stb blockids &amp; lighting</li>
<li>10% reordering from data[z][y][x] (minecraft-style) to data[y][x][z] (stb-style)</li>
<li>40% building mesh data</li>
<li>7% uploading mesh data to OpenGL</li>
</ul>
<p>I did do significant optimizations after the above, so the final breakdown is different, but it should give you some sense of the costs. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
